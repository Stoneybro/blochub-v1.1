'use client'
import React, { useEffect, useRef } from 'react'
import { gsap } from 'gsap'
import Image from 'next/image'
import { ScrollTrigger } from 'gsap/ScrollTrigger'
import logo from '../../public/logo.svg'
export default function Slider2() {

  const svg=    <svg width="820" height="130" viewBox="0 0 1531 240" fill="none" xmlns="http://www.w3.org/2000/svg">
  <g clip-path="url(#clip0_31_135)">
  <path d="M403.723 138.622C411.936 142.821 418.838 149.216 423.67 157.104C428.597 165.25 431.086 174.651 430.84 184.182C431.051 191.674 429.658 199.124 426.756 206.028C423.854 212.932 419.51 219.128 414.018 224.197C402.831 234.874 387.89 240.657 372.47 240.277H289.19V44.821H366.403C381.374 44.4064 395.916 49.8766 406.94 60.0694C412.242 64.9837 416.437 70.9814 419.243 77.66C422.049 84.3386 423.402 91.5435 423.21 98.791C423.49 106.532 421.857 114.223 418.456 121.174C415.055 128.125 409.993 134.119 403.723 138.622ZM372.562 209.781C376.005 209.8 379.416 209.104 382.579 207.737C385.743 206.369 388.591 204.359 390.946 201.833C393.44 199.272 395.399 196.237 396.709 192.904C398.019 189.571 398.654 186.009 398.575 182.426C398.643 175.205 395.906 168.242 390.946 163.019C388.588 160.497 385.739 158.49 382.576 157.123C379.413 155.756 376.004 155.057 372.562 155.071H321.178V209.873L372.562 209.781ZM366.587 74.7633H321.27V126.146H366.495C369.8 126.214 373.083 125.592 376.136 124.319C379.19 123.047 381.948 121.151 384.236 118.752C386.632 116.33 388.512 113.441 389.76 110.263C391.009 107.085 391.6 103.685 391.497 100.27C391.617 96.8603 391.043 93.4623 389.81 90.284C388.578 87.1057 386.712 84.2142 384.328 81.7868C381.999 79.4681 379.225 77.6498 376.175 76.4424C373.125 75.235 369.863 74.6637 366.587 74.7633Z" fill="white"/>
  <path d="M456.669 240.277V44.1741H486.635V240.277H456.669Z" fill="white"/>
  <path d="M586.921 240.277C577.284 240.456 567.71 238.664 558.783 235.01C549.855 231.357 541.759 225.917 534.986 219.022C527.984 212.215 522.47 204.015 518.798 194.945C515.126 185.874 513.376 176.134 513.66 166.346C513.458 156.628 515.256 146.974 518.942 137.989C522.628 129.003 528.121 120.881 535.078 114.132C545.375 103.912 558.443 96.9736 572.644 94.1855C586.846 91.3974 601.55 92.8835 614.915 98.4576C628.281 104.032 639.713 113.446 647.782 125.522C655.85 137.598 660.195 151.799 660.274 166.346C660.349 176.045 658.493 185.662 654.816 194.63C651.139 203.597 645.714 211.735 638.862 218.564C632.01 225.392 623.869 230.774 614.917 234.392C605.965 238.01 596.384 239.791 586.737 239.63L586.921 240.277ZM556.128 198.414C564.378 206.464 575.423 210.967 586.921 210.967C598.419 210.967 609.464 206.464 617.714 198.414C621.925 194.249 625.221 189.244 627.39 183.721C629.559 178.198 630.553 172.279 630.308 166.346C630.393 157.669 627.914 149.163 623.184 141.905C618.454 134.647 611.687 128.965 603.74 125.579C595.794 122.194 587.026 121.257 578.55 122.888C570.073 124.519 562.269 128.644 556.128 134.74C552.014 138.876 548.784 143.812 546.634 149.247C544.485 154.681 543.461 160.5 543.626 166.346C543.43 172.223 544.439 178.079 546.59 183.548C548.74 189.017 551.987 193.982 556.128 198.136V198.414Z" fill="white"/>
  <path d="M753.022 240.277C743.339 240.516 733.708 238.782 724.709 235.18C715.711 231.578 707.53 226.183 700.66 219.319C693.789 212.455 688.372 204.264 684.733 195.24C681.094 186.215 679.309 176.544 679.485 166.808C679.295 157.072 681.071 147.399 684.707 138.374C688.342 129.348 693.761 121.158 700.635 114.299C707.51 107.439 715.697 102.053 724.701 98.4664C733.705 94.8795 743.34 93.1665 753.022 93.4308C765.926 93.3492 778.619 96.7308 789.79 103.227C800.565 109.26 809.327 118.358 814.976 129.38L789.147 144.351C786.096 137.78 781.126 132.3 774.899 128.641C768.202 124.735 760.579 122.724 752.838 122.819C747.137 122.683 741.468 123.729 736.186 125.891C730.905 128.053 726.122 131.286 722.136 135.387C718.102 139.442 714.923 144.274 712.791 149.594C710.658 154.913 709.616 160.611 709.727 166.346C709.581 172.132 710.596 177.888 712.712 183.271C714.829 188.654 718.003 193.552 722.045 197.674C726.023 201.784 730.805 205.023 736.088 207.186C741.372 209.349 747.043 210.389 752.746 210.243C760.488 210.347 768.114 208.334 774.807 204.42C781.172 200.776 786.345 195.35 789.698 188.802L815.528 203.589C809.645 214.689 800.752 223.885 789.882 230.112C778.751 236.826 766.002 240.342 753.022 240.277Z" fill="white"/>
  <path d="M955.339 44.5437H987.328V240H955.339V155.441H871.967V240.277H839.887V44.8209H871.875V124.944H955.156L955.339 44.5437Z" fill="white"/>
  <path d="M1117.76 96.8502H1147.73V236.488H1117.76V218.56C1113.18 225.76 1106.74 231.579 1099.14 235.402C1091.53 239.225 1083.04 240.91 1074.56 240.277C1067.42 240.572 1060.29 239.359 1053.64 236.717C1046.99 234.075 1040.97 230.062 1035.95 224.936C1025.72 213.355 1020.47 198.17 1021.34 182.703V96.7578H1051.3V179.931C1051.02 184.274 1051.61 188.63 1053.03 192.741C1054.45 196.853 1056.68 200.636 1059.58 203.866C1062.61 206.752 1066.19 208.987 1070.11 210.433C1074.03 211.879 1078.2 212.506 1082.37 212.276C1087.08 212.498 1091.79 211.733 1096.18 210.031C1100.58 208.329 1104.58 205.726 1107.93 202.387C1111.46 198.251 1114.15 193.45 1115.82 188.262C1117.49 183.074 1118.12 177.603 1117.67 172.168L1117.76 96.8502Z" fill="white"/>
  <path d="M1261.34 93.1536C1270.52 93.0452 1279.62 94.8819 1288.05 98.5441C1296.47 102.206 1304.04 107.612 1310.25 114.409C1316.85 121.302 1322.04 129.439 1325.51 138.351C1328.98 147.263 1330.66 156.777 1330.47 166.346C1330.67 175.952 1328.99 185.504 1325.5 194.45C1322.01 203.396 1316.8 211.559 1310.15 218.467C1303.96 225.283 1296.4 230.701 1287.97 234.365C1279.54 238.028 1270.43 239.854 1261.25 239.723C1251.81 240.188 1242.41 238.256 1233.92 234.105C1225.42 229.954 1218.1 223.718 1212.63 215.972V236.119H1182.66V43.7119H1212.63V116.35C1218.18 108.711 1225.55 102.588 1234.06 98.5377C1242.57 94.487 1251.94 92.6363 1261.34 93.1536ZM1225.13 198.506C1233.57 206.656 1244.82 211.207 1256.52 211.207C1268.22 211.207 1279.47 206.656 1287.91 198.506C1292.06 194.286 1295.32 189.256 1297.47 183.725C1299.62 178.195 1300.62 172.28 1300.41 166.346C1300.61 160.448 1299.61 154.571 1297.48 149.073C1295.35 143.576 1292.12 138.573 1288 134.37C1279.56 126.221 1268.31 121.669 1256.61 121.669C1244.91 121.669 1233.66 126.221 1225.22 134.37C1221.09 138.569 1217.85 143.568 1215.7 149.066C1213.55 154.563 1212.53 160.442 1212.72 166.346C1212.51 172.272 1213.5 178.18 1215.63 183.709C1217.77 189.237 1221 194.272 1225.13 198.506Z" fill="white"/>
  <path d="M187.25 0H0.374634V190.096L56.9978 240.277H239.369V46.2072L187.25 0ZM32.455 32.2526H175.576L207.104 59.9769V207.84H68.6718L32.455 175.587V32.2526Z" fill="white"/>
  </g>
  <defs>
  <clipPath id="clip0_31_135">
  <rect width="1330.09" height="240" fill="white" transform="translate(0.374634)"/>
  </clipPath>
  </defs>
  </svg>
    const slider=useRef(null)
  const firstsvg= useRef(null)
  const secondsvg=useRef(null)
  const thirdsvg=useRef(null)
  let xPercent=0
  let direction=1
  useEffect(()=>{
    requestAnimationFrame(animation)


  },[])
  useEffect(()=>{
    gsap.registerPlugin(ScrollTrigger)
    // gsap.to(slider.current,{
    //   ScrollTrigger:{
    //     trigger:slider.current,
    //     scrub:true,
    //     // eslint-disable-next-line react-hooks/exhaustive-deps
    //     onUpdate:e=>direction=direction*-1
    //   },

    // })
  },[])
  const animation=()=>{
    if (xPercent <= -100) {
      xPercent = 0;
    }else if (xPercent > 0) {
      xPercent=-100
    }
    gsap.set(firstsvg.current,{xPercent:xPercent})
    gsap.set(secondsvg.current,{xPercent:xPercent})
    gsap.set(thirdsvg.current,{xPercent:xPercent})
    xPercent+=0.25*direction
    requestAnimationFrame(animation)
  }

  return (

        <div className='overflow-hidden pt-24' ref={slider}>
        <div className="bg-black  pb-24 lg:pb-36 flex w-[70rem] lg:w-[200vw]"  >
        <div className="w-full" ref={firstsvg} ><Image src={logo}  alt='slider' className=' w-[27rem] xl:w-[250rem] lg:w-[200rem] md:w-[200rem]'  />
  </div>
        <div className="w-full" ref={secondsvg} ><Image src={logo}  alt='slider' className=' w-[27rem] xl:w-[250rem] lg:w-[200rem] md:w-[200rem]'  />
        </div>
        <div className="w-full" ref={thirdsvg}><Image src={logo}  alt='slider' className=' w-[27rem] xl:w-[250rem] lg:w-[200rem] md:w-[200rem]'  />
        </div>
      </div>
          </div>
  )
}


// <div className='   overflow-hidden' >
// <div className="bg-black pt-12 lg:pt-48 pb-36 flex"  >
// <div className="" ref={firstsvg}>{svg}</div>
// <div className="" ref={secondsvg}>{svg}</div>
// <div className="" ref={thirdsvg}>{svg}</div>
// </div>
//   </div>







